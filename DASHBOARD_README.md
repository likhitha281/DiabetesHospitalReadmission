# Interactive Cluster Prediction Dashboard

This dashboard allows users to input patient information and predict which cluster they belong to based on the trained K-Means clustering model.

## Prerequisites

1. **Run the notebook first**: Before using the dashboard, you need to run the `ClusteringAndDimensionalityReduction.ipynb` notebook to generate the model files. The notebook will save the following files in the `models/` directory:
   - `scaler.pkl` - StandardScaler for feature scaling
   - `label_encoders.pkl` - Label encoders for categorical features
   - `kmeans_model.pkl` - Trained K-Means model
   - `feature_info.pkl` - Feature information and metadata
   - `cluster_profiles.pkl` - Cluster characteristics and profiles

2. **Install dependencies**: Install the required Python packages:
   ```bash
   pip install -r requirements_dashboard.txt
   ```

## Running the Dashboard

1. **Start Streamlit**:
   ```bash
   streamlit run cluster_dashboard.py
   ```

2. **Access the dashboard**: The dashboard will open in your default web browser at `http://localhost:8501`

## How to Use

1. **Fill in the form**: Enter patient information in the three columns:
   - **Numeric Features**: Time in hospital, number of procedures, medications, etc.
   - **Categorical Features**: Race, gender, age group, admission details, etc.
   - **Medication Features**: Various diabetes medications and their status

2. **Predict**: Click the "ðŸ”® Predict Cluster" button

3. **View Results**: The dashboard will display:
   - Your assigned cluster number
   - Cluster characteristics (size, percentage of dataset)
   - Average feature values for that cluster
   - Readmission distribution (if available)
   - Interpretation of what the cluster means

## Features

- **Interactive Input Forms**: Easy-to-use forms for all 26 features
- **Real-time Prediction**: Instant cluster prediction based on your input
- **Cluster Information**: Detailed characteristics of each cluster
- **Visual Feedback**: Color-coded cluster results
- **Model Information**: Sidebar with model details and instructions

## Troubleshooting

### Models Not Found Error
If you see "Model files not found", make sure you have:
1. Run the notebook completely (especially the last cell that saves models)
2. Check that the `models/` directory exists and contains all `.pkl` files

### Unknown Value Warnings
If you see warnings about unknown values, it means you entered a value that wasn't seen during training. The dashboard will use a default encoding, but results may be less accurate.

## File Structure

```
DiabetesHospitalReadmission/
â”œâ”€â”€ cluster_dashboard.py          # Main dashboard application
â”œâ”€â”€ requirements_dashboard.txt    # Python dependencies
â”œâ”€â”€ ClusteringAndDimensionalityReduction.ipynb  # Training notebook
â”œâ”€â”€ models/                       # Saved models (generated by notebook)
â”‚   â”œâ”€â”€ scaler.pkl
â”‚   â”œâ”€â”€ label_encoders.pkl
â”‚   â”œâ”€â”€ kmeans_model.pkl
â”‚   â”œâ”€â”€ feature_info.pkl
â”‚   â””â”€â”€ cluster_profiles.pkl
â””â”€â”€ data/
    â””â”€â”€ diabetic_data.csv        # Dataset
```

## Notes

- The dashboard uses the K-Means model with k=4 clusters
- All inputs are preprocessed the same way as the training data (label encoding + scaling)
- The prediction is based on the exact same preprocessing pipeline used during training

